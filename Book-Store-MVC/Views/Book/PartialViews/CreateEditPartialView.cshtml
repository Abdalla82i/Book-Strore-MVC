
@model BookViewModel




    <div asp-validation-summary="All" class="text-danger"></div>
    <div class="form-group ">
        <label asp-for="Title" class="control-label">Title</label>
        <input placeholder="Enter Title" asp-for="Title" class="form-control " />
        <span asp-validation-for="Title" class="text-danger"></span>
    </div>
    <div class="form-group ">
        <label asp-for="Description" class="control-label">Description</label>
    <input placeholder="Enter  Description" asp-for="Description" class="form-control " />
        <span asp-validation-for="Description" class="text-danger"></span>
    </div>
    <div class="form-group ">
        <label asp-for="Language" class="control-label">Language</label>
        <input placeholder="Language" asp-for="Language" class="form-control " />
        <span asp-validation-for="Language" class="text-danger"></span>
    </div>
    <div class="form-group  ">
        <label asp-for="DatePublished" class="control-label">Confirm Date Published</label>
        <input placeholder="Date Published"  asp-for="DatePublished" class="form-control " />
        <span asp-validation-for="DatePublished" class="text-danger"></span>
    </div>
    <div class="form-group ">
    <label asp-for="AuthorId">Author</label>
    <select asp-for="AuthorId" class="authorDropdown form-control" onchange="setPublisherAndAuthorName()">
        <option value="">Select an author</option>
        @foreach (var auth in Model.Authorlist)
        {
            <option value="@auth.Id" data-author-name="@auth.Name">@auth.Name</option>
        }
    </select>
    <input type="hidden" asp-for="AuthorName" id="authorName" />

    </div>
    <div class="form-group ">
    <label asp-for="PublisherId">publisher</label>
    <select asp-for="PublisherId" class="publisherDropdown form-control" onchange="setPublisherAndAuthorName()">
        <option value="">Select a publisher</option>
        @foreach (var pub in Model.publisherlist)
        {
            <option value="@pub.Id" data-publisher-name="@pub.Name">@pub.Name</option>
        }
    </select>
    <input type="hidden" asp-for="PublisherName" id="publisherName" />

    </div>
    <div class="form-group ">
        <label asp-for="Price" class="control-label">Price</label>
        <input placeholder="Price" asp-for="Price" class="form-control " />
        <span asp-validation-for="Price" class="text-danger"></span>
    </div>
    <div class="form-group ">

     <label asp-for="Imagefile" class="col-form-label">Book Cover </label>
     <input asp-for="Imagefile" class="form-control" />
     <input  hidden asp-for="ImageUrl " /> 
    </div>
    <div class="form-group ">
        <label asp-for="CategoryId">Category</label>
         <select asp-for="CategoryId"  class="form-control">

        <option value="">Select a Category</option>;
            @foreach (var Cate in Model.Categorylist)
            {
                <option value="@Cate.Id">@Cate.Name</option>
            }
        </select>
  
    </div>


<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

<script>
    function setPublisherAndAuthorName() {
        // Handle Publisher Name
        var publisherDropdown = document.getElementsByClassName("publisherDropdown")[0];
        var selectedPublisher = publisherDropdown.options[publisherDropdown.selectedIndex];
        var publisherName = selectedPublisher.getAttribute("data-publisher-name");
        document.getElementById("publisherName").value = publisherName;

        // Handle Author Name
        var authorDropdown = document.getElementsByClassName("authorDropdown")[0];
        var selectedAuthor = authorDropdown.options[authorDropdown.selectedIndex];
        var authorName = selectedAuthor.getAttribute("data-author-name");
        document.getElementById("authorName").value = authorName;
    }
</script>